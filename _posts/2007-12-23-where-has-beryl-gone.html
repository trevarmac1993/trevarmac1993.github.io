---
layout: post
title: "Where has Beryl gone??"
date: 2007-12-23
comments: true
tags: [  Linux ]
---

Yesterday I upgraded Ubuntu to the new 7.10 (Gutsy) version. I don't know whether you've read a post I've written some time ago about Ubuntu's desktop and window effects? Well <a href="http://juri-strumpflohner.blogspot.com/2007/04/beryl-window-manager.html">here</a> and <a href="http://juri-strumpflohner.blogspot.com/2007/03/diving-into-new-area.html">here</a> would be some posts if you're interested.<br />Anyway, the point is that with the new system upgrade Beryl was uninstalled since it was marked as obsolete package. After some searching on the web I found that Beryl developers went over to Compiz. So the first step was to install the compiz manager. That was quite easy, just go to System -> Administration -> Synaptic Package Manager. Then search for "compizconfig-settings-manager".<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_tF6XjsUy87k/R24gEvPa1SI/AAAAAAAAAyA/6BN4ySgaPmk/s1600-h/Synaptic+Package+Manager+.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://1.bp.blogspot.com/_tF6XjsUy87k/R24gEvPa1SI/AAAAAAAAAyA/6BN4ySgaPmk/s400/Synaptic+Package+Manager+.png" alt="" id="BLOGGER_PHOTO_ID_5147086689903760674" border="0" /></a>After a successful installation the following menu entry should appear:<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_tF6XjsUy87k/R24lMPPa1TI/AAAAAAAAAyI/wJhHrfxbe8o/s1600-h/advancedDesktopEffects.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://3.bp.blogspot.com/_tF6XjsUy87k/R24lMPPa1TI/AAAAAAAAAyI/wJhHrfxbe8o/s400/advancedDesktopEffects.png" alt="" id="BLOGGER_PHOTO_ID_5147092316310918450" border="0" /></a>This is basically the compiz configuration window, where all the effects and stuff can be configured and activated. To use all this effects however, one has to open the "Appearance" dialog which is just the menu entry below.<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_tF6XjsUy87k/R24naPPa1UI/AAAAAAAAAyo/at_bPuGFlTg/s1600-h/appearancePrefs.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://3.bp.blogspot.com/_tF6XjsUy87k/R24naPPa1UI/AAAAAAAAAyo/at_bPuGFlTg/s400/appearancePrefs.png" alt="" id="BLOGGER_PHOTO_ID_5147094755852342594" border="0" /></a>If it works, everything is fine and Compiz effects will be used. In my case however the error message "The Composite extension is not available" appeared.<br />I found out that this is connected to my ATI proprietary drivers which I was using on Ubuntu. So I had to adjust some settings in order to make Compiz work.<br /><br /><span style="font-weight: bold;">Step 1:</span><br />Run<br /><pre class="code">sudo gedit /etc/X11/xorg.conf</pre>In the configuration file search for "extension" and you'll find something like this<br /><pre class="code"><br />Section "Extensions"<br />Option        "Composite"    "0"<br />EndSection</pre>Change the value "0" to "1" and save your settings. Then go back to the appearance preferences and try again to set the visual effects to "custom". If it works fine, otherwise you have to continue with step 2.<br /><br /><span style="font-weight: bold;">Step 2:</span><br />Open a terminal (Press Alt+F2 and type "gnome-terminal"). Then type in "compiz --replace".<br />You should get something like this:<br /><pre class="code"><br />Checking for Xgl: not present.<br />No whitelisted driver found<br />aborting and using fallback: /usr/bin/metacity</pre>Then go on by typing (always in your terminal window):<br /><pre class="code">sudo apt-get install xserver-xgl</pre><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_tF6XjsUy87k/R24rtfPa1VI/AAAAAAAAAyw/AXcBrOZB18A/s1600-h/installingXgl.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://4.bp.blogspot.com/_tF6XjsUy87k/R24rtfPa1VI/AAAAAAAAAyw/AXcBrOZB18A/s400/installingXgl.png" alt="" id="BLOGGER_PHOTO_ID_5147099484611335506" border="0" /></a><br />After installation, restart your X-server by pressing CRTL-ALT-BACKSPACE.<br />Compiz should work now.