---
layout: post
title: UML Use Case "extend" and "include" relationships
date: 2009-03-17
comments: true
tags: [  Software Design ]
---

From now and then I have to create UML diagrams to model certain parts of software projects, especially for the University. Initially, creating UML models, may seem annoying but in fact they can be very useful if they are applied correctly. So for instance an <a href="http://www.agilemodeling.com/artifacts/useCaseDiagram.htm">UML Use Case diagram</a> can help a lot in explaining the main functionalities of a program, either to some other technical person or to the user itself (or even to create the diagram <u>with</u> the user itself). On the other side, modelling a whole system with a class diagram may be completely nonsense. Creating class diagrams makes sense for the critical / most important parts of the system, s.t. all the developers can take it as a point of reference. Modelling the whole system will lead to a lot of work that nobody will ever look at and which will soon again be out of date.<br /><br />So I'm currently creating an UML Use case diagram to describe the basic features of my application I'm planning to develop and it always happens again to me that I come to the point where I have to search the web about the details regarding the "extend" and "include" relationships. Just out of the head it seems to be clear: "extend" is some kind of specialization, a use case that extends the functionalities of its base case etc...while "include" is a use-case which will be called as a consequence of invoking another one. But still there are these doubts...should this new use case be one for itself or should it extend this other one here...the boundaries are not always very clear.<br />Well here I've found a documention from IBM Rational Architect that explains the difference quite good (I think):<br /><div class="separator" style="clear: both; text-align: center;"><a href="/blog/assets/imgs/example_include.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="98" src="/blog/assets/imgs/example_include.gif" style="cursor: move;" width="420" /></a> </div><blockquote><div class="separator" style="clear: both; text-align: left;">The [...] figure illustrates an e-commerce application that provides customers with the option of checking the status of their orders. This behavior is modeled with a base use case called CheckOrderStatus that has an inclusion use case called LogIn. The LogIn use case is a separate inclusion use case because it contains behaviors that several other use cases in the system use. An include relationship points from the CheckOrderStatus use case to the LogIn use case to indicate that the CheckOrderStatus use case <i>always includes the behaviors</i> in the LogIn use case. </div></blockquote><div class="separator" style="clear: both; text-align: left;">The "extend" relationship is explained as follows:</div><div class="separator" style="clear: both; text-align: left;"></div><div style="text-align: center;"><a href="/blog/assets/imgs/extend.gif" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="105" src="/blog/assets/imgs/extend.gif" style="cursor: move;" width="420" /></a> </div><blockquote><div style="text-align: left;">You are developing an e-commerce system in which you have a base use case called Place Online Order that has an extending use case called Specify Shipping Instructions. An extend relationship points from the Specify Shipping Instructions use case to the Place Online Order use case to indicate that the behaviors in the Specify Shipping Instructions use case are <i>optional and only occur in certain circumstances</i>.</div></blockquote><div style="text-align: left;">So the key point in the extends relationship is <b>"optional</b>"! It adds further functionality to the base use case which may be restricted by constraints. The <a href="http://en.wikipedia.org/wiki/Use_case_diagram">following diagram</a> shows this:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Restaurant_Model.png/583px-Restaurant_Model.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="420" src="/blog/assets/imgs/583px-Restaurant_Model.png" style="cursor: move;" width="407" /></a></div>Consider the "Order Wine" and "Serve Wine" use cases. The "Order Wine" extends the "Order Food", meaning that wine may be ordered by the customer, but not necessarily (optional). Therefore the use case "Server Wine" has a condition on its extend relationship: "if wine was ordered".<br /><br />Another relationship is the "Specialization/Generalization" relationship. The notation is a arrow with a white triangle at the end, basically the same that is used for defining the inheritance (extends) relationship in the UML class diagrams. The figure below (taken from <a href="http://en.wikipedia.org/wiki/Use_case_diagram#Generalization">Wikipedia</a>) shows an example:</div><div class="separator" style="clear: both; text-align: center;"><a href="http://upload.wikimedia.org/wikipedia/commons/b/b3/UML-usecase-usecaserelationships.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="201" src="/blog/assets/imgs/UML-usecase-usecaserelationships.png" style="cursor: move;" width="420" /></a></div><div style="text-align: left;"></div><div style="text-align: left;"></div><div style="text-align: left;">Another source of interest may be <a href="http://www.agilemodeling.com/artifacts/useCaseDiagram.htm">AgileModeling.com</a>.</div>