---
layout: post
title: "GWT Hyperlink Widget with Image"
date: 2010-02-28
comments: true
tags: [  GWT, Java, Web dev ]
---

Standard <a href="http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/user/client/ui/Hyperlink.html">GWT Hyperlink</a> widgets don't seem to give the possibility to associate an image. This is quite awkward since you may want to provide nice icons along with your links. In my opinion, appropriate icons increase the user experience dramatically. But it is also not difficult to create image-enhanced hyperlink widgets.<br /><pre class="prettyprint">public class HyperLink extends Hyperlink {<br /><br /> public HyperLink(){<br /> }<br /> <br /> public void setResource(ImageResource imageResource){<br />  Image img = new Image(imageResource);<br />  img.setStyleName("navbarimg");<br />  DOM.insertBefore(getElement(), img.getElement(), DOM.getFirstChild(getElement()));<br /> }<br />}</pre>Now you can use the widget like<br /><pre class="prettyprint">&lt;!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent"&gt;<br />&lt;ui:UiBinder xmlns:ui="urn:ui:com.google.gwt.uibinder"<br /> xmlns:g="urn:import:com.google.gwt.user.client.ui" <br /> <b>xmlns:v="urn:import:com.devbook.client.view" xmlns:d="urn:import:com.devbook.client.widget"&gt;</b><br /> &lt;ui:style&gt;<br /> &lt;/ui:style&gt;<br /> <b>&lt;ui:with field="res" type="com.devbook.client.IDevbookImageBundle" /&gt;</b><br /> &lt;g:DecoratorPanel ui:field="outerContainer"&gt;<br />  &lt;g:HTMLPanel ui:field="mainContainer"&gt;<br />   &lt;v:DecoratedPanel ui:field="titleContainer" text="Navigation"&gt;&lt;/v:DecoratedPanel&gt;<br />   &lt;g:VerticalPanel&gt;<br />    <b>&lt;d:HyperLink resource="{res.add}" targetHistoryToken="addSourceItem"&gt;Add Item&lt;/d:HyperLink&gt;</b><br />   &lt;/g:VerticalPanel&gt;<br />  &lt;/g:HTMLPanel&gt;<br /> &lt;/g:DecoratorPanel&gt;<br />&lt;/ui:UiBinder&gt; </pre>The above XML file makes use of the <code>UiBinder</code> which has been introduced with GWT 2.0. You have to take a look at the highlighted parts. First the <code>HyperLink</code> widget (shown at the beginning of this post) is being referenced. Then a reference to the ImageBundle you have defined for your GWT module is created. This bundle is needed to reference the image you'll show on the <code>HyperLink</code> widget. The <code>resource="{res.add}"</code> will be translated to a call of&nbsp;<code>setResource(ImageResource)</code>. The passed ImageResource is the one defined in your ImageBundle.<br /><pre class="prettyprint">public interface IDevbookImageBundle extends ClientBundle {<br /> ...<br /> @Source("com/devbook/images/add.png")<br /> ImageResource add();<br /> ...<br />}</pre>The final result:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_tF6XjsUy87k/S4rlTspU9jI/AAAAAAAACis/5ag8YCQJLwA/s1600-h/hyperlinkIcon.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_tF6XjsUy87k/S4rlTspU9jI/AAAAAAAACis/5ag8YCQJLwA/s1600/hyperlinkIcon.png" /></a></div>